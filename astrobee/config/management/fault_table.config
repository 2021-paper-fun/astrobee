-- Copyright (c) 2017, United States Government, as represented by the
-- Administrator of the National Aeronautics and Space Administration.
--
-- All rights reserved.
--
-- The Astrobee platform is licensed under the Apache License, Version 2.0
-- (the "License"); you may not use this file except in compliance with the
-- License. You may obtain a copy of the License at
--
--     http://www.apache.org/licenses/LICENSE-2.0
--
-- Unless required by applicable law or agreed to in writing, software
-- distributed under the License is distributed on an "AS IS" BASIS, WITHOUT
-- WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied. See the
-- License for the specific language governing permissions and limitations
-- under the License.

-- Autogenerated from FMECA! DO NOT CHANGE!

require "sys_monitor"

subsystems={
  {name="management", nodes={
    {name="access_control", faults={
      {id=29, warning=false, blocking=true, response=command("fault"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Access Control", heartbeat={timeout_sec=1.1, misses=3.0}},
    }},
    {name="executive", faults={
      {id=27, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Executive", heartbeat={timeout_sec=2.1, misses=2.0}},
    }},
    {name="llp_cpu_monitor", faults={
      {id=31, warning=false, blocking=true, response=command("stopAllMotion"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from LLP CPU Monitor", heartbeat={timeout_sec=1.1, misses=2.0}},
      {id=81, warning=true, blocking=true, response=command("stopAllMotion"), unload=false, key="LOAD_TOO_HIGH", description="LLP CPU load too high"},
      {id=87, warning=true, blocking=true, response=command("stopAllMotion"), unload=false, key="TEMPERATURE_TOO_HIGH", description="LLP Temperature too high"},
    }},
    {name="llp_disk_monitor", faults={
      {id=34, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from LLP Disk Monitor", heartbeat={timeout_sec=1.1, misses=2.0}},
    }},
    {name="image_sampler", faults={
      {id=42, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Image Sampler", heartbeat={timeout_sec=1.1, misses=5.0}},
    }},
    {name="mlp_disk_monitor", faults={
      {id=35, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from MLP Disk Monitor", heartbeat={timeout_sec=1.1, misses=2.0}},
    }},
    {name="mlp_cpu_monitor", faults={
      {id=32, warning=false, blocking=true, response=command("stopAllMotion"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from MLP CPU Monitor", heartbeat={timeout_sec=1.1, misses=2.0}},
      {id=82, warning=true, blocking=true, response=command("stopAllMotion"), unload=false, key="LOAD_TOO_HIGH", description="MLP CPU load too high"},
      {id=88, warning=true, blocking=true, response=command("stopAllMotion"), unload=false, key="TEMPERATURE_TOO_HIGH", description="MLP Temperature too high"},
    }},
    {name="hlp_cpu_monitor", faults={
      {id=33, warning=false, blocking=true, response=command("stopAllMotion"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from HLP CPU Monitor", heartbeat={timeout_sec=1.1, misses=2.0}},
      {id=83, warning=true, blocking=true, response=command("stopAllMotion"), unload=false, key="LOAD_TOO_HIGH", description="HLP CPU load too high"},
      {id=89, warning=true, blocking=true, response=command("stopAllMotion"), unload=false, key="TEMPERATURE_TOO_HIGH", description="HLP Temperature too high"},
    }},
  }},
  {name="mobility", nodes={
    {name="mapper", faults={
      {id=40, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Mapper", heartbeat={timeout_sec=1.1, misses=2.0}},
    }},
    {name="planner_qp", faults={
      {id=38, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from QP Planner", heartbeat={timeout_sec=1.1, misses=5.0}},
    }},
    {name="planner", faults={
      {id=37, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Planer", heartbeat={timeout_sec=1.1, misses=5.0}},
    }},
    {name="choreographer", faults={
      {id=26, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Choreographer", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
    {name="planner_trapezoidal", faults={
      {id=39, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Trapezoidal Planner", heartbeat={timeout_sec=1.1, misses=5.0}},
    }},
    {name="sentinel", faults={
      {id=41, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Sentinel", heartbeat={timeout_sec=1.1, misses=3.0}},
    }},
  }},
  {name="communication", nodes={
    {name="dds_ros_bridge", faults={
      {id=30, warning=false, blocking=true, response=command("fault"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat form DDS ROS Bridge", heartbeat={timeout_sec=1.1, misses=5.0}},
    }},
  }},
  {name="localization", nodes={
    {name="optical_flow_nodelet", faults={
      {id=25, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from VisualOdometer", heartbeat={timeout_sec=1.1, misses=2.0}},
    }},
    {name="localization_nodelet", faults={
      {id=22, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from NavLoc (sparse mapping)", heartbeat={timeout_sec=1.1, misses=4.0}},
    }},
    {name="marker_tracking_nodelet", faults={
      {id=23, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from DockLoc (ar tags)", heartbeat={timeout_sec=1.1, misses=4.0}},
    }},
    {name="handrail_detect", faults={
      {id=24, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from PerchLoc (handrail detect)", heartbeat={timeout_sec=1.1, misses=4.0}},
    }},
    {name="localization_manager", faults={
      {id=21, warning=false, blocking=true, response=command("idlePropulsion"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Localization Manager", heartbeat={timeout_sec=1.1, misses=2.0}},
    }},
  }},
  {name="hardware", nodes={
    {name="laser", faults={
      {id=44, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Laser", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
    {name="imu_nodelet", faults={
      {id=12, warning=false, blocking=false, response=command("idlePropulsion"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from IMU", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
    {name="eps_driver", faults={
      {id=11, warning=false, blocking=true, response=command("stopAllMotion"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from EPS", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
    {name="framestore", faults={
      {id=43, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from FrameStore", heartbeat={timeout_sec=1.1, misses=3.0}},
    }},
    {name="pmc_actuator", faults={
      {id=13, warning=false, blocking=false, response=command("idlePropulsion"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from PMC Actuator", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
    {name="flashlight_front", faults={
      {id=45, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Front Flashlight", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
    {name="nav_cam", faults={
      {id=16, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Navcam", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
    {name="flashlight_aft", faults={
      {id=46, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Aft Flashlight", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
    {name="dock_cam", faults={
      {id=17, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from Dockcam", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
  }},
  {name="gnc", nodes={
    {name="gnc", faults={
      {id=14, warning=false, blocking=false, response=command("noOp"), unload=false, key="HEARTBEAT_MISSING", description="No Heartbeat from GN&C Wrapper", heartbeat={timeout_sec=1.1, misses=1.0}},
    }},
  }},
}
